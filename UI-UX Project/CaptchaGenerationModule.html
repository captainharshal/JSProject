<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Captcha Generation</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap-theme.min.css"
        integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
        crossorigin="anonymous"></script>

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


    <script type="text/javascript">

        /* Function to Generat Captcha */
        function GenerateCaptcha() {
            var alphanumeric = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%&*()+-/<=>?[]^_{|}';

            let captchaCode = '';
            for (let i = 0; i < 6; i++) {
                captchaCode += alphanumeric[Math.floor(Math.random() * alphanumeric.length)];
            }
            document.getElementById("txtCaptcha").value = captchaCode
        }

        /* Validating Captcha Function */
        function ValidCaptcha() {
            var str1 = removeSpaces(document.getElementById('txtCaptcha').value);
            var str2 = removeSpaces(document.getElementById('txtCompare').value);

            if (str1 == str2) { return 'Captcha Match Successfully...'; }
            else { return 'Captcha Mismatch, Please Re-Enter Captcha...'; }
        }

        /* Remove spaces from Captcha Code */
        function removeSpaces(string) {
            return string.split(' ').join('');
        }

        /* Refresh Captcha Code */
        function Refreshbtn() {
            GenerateCaptcha();
            document.getElementById("txtCompare").value = ''
        }

        /* Compare Captcha Code */
        function Checkbtn() {
            window.alert(ValidCaptcha());
            document.getElementById("txtCompare").value = ''
            GenerateCaptcha();
        }

    </script>

</head>

<!-- onload function is evoke when page is load -->
<!--GenerateCaptcha function is called when page is loaded -->

<body align="center" onload="GenerateCaptcha()">

    <div class="container-fluid">

        <h2>Generating Captcha Code</h2>

        <input type="text" id="txtCaptcha"
            style="text-align: center; border:none; height: 30px; font-size: larger; background-color: aqua; font-weight: bold; font-family: Modern"
            disabled />

        <button type="button" class="btn btn-default" id="btnrefresh" value="Refresh" onclick="Refreshbtn();">
            <a data-toggle="tooltip" title="Refresh"><span class="glyphicon glyphicon-refresh"></span></a>
        </button>

        <input type="text" id="txtCompare" autofocus />

        <button type="button" class="btn btn-default" id="btnValid" value="Check"
            onclick="Checkbtn()"><b>Check</b></button>


    </div>

</body>

</html>